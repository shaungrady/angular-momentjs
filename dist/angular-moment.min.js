// momentjs-angular-module v0.4.0
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("angular"),require("moment")):"function"==typeof define&&define.amd?define(["angular","moment"],e):"object"==typeof exports?exports.$moment=e(require("angular"),require("moment")):t.$moment=e(t.angular,t.moment)}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=9)}([function(e,n){e.exports=t},function(t,e,n){"use strict";var o=n(0),i=n.n(o),a=n(6),r=n.n(a);e.a=["$moment","$timeout",function(t,e){var n=["millisecond","second","minute","hour","day","month","year"],o=t.$strictView,a=t.$strictModel;return{priority:10,restrict:"E",require:"?ngModel",compile:function(m,l){return"date"!==l.type&&"moment"!==l.type?i.a.noop:function(m,l,s,u){if(u){var c,d,f,p=t.$defaultViewFormat,M=t.$defaultModelFormat,$=!1,v={min:{attr:null,view:null,model:null},max:{attr:null,view:null,model:null}},h=function(e){l.attr("placeholder")||l.attr("placeholder",t.$parseFormat(e))},y=function(){var t=!u.$isEmpty(u.$modelValue),e=!u.$isEmpty(u.$viewValue);t?x():e&&w()},w=function(){u.$isEmpty(u.$viewValue)||u.$setViewValue(u.$viewValue)},x=function(){var t=u.$modelValue;u.$isEmpty(t)||e(function(){m.$apply(function(){m[s.ngModel]=t+" "}),m.$apply(function(){m[s.ngModel]=t})},0,!1)},k=function(e){v[e].attr&&v[e].attr.isValid()?(v[e].view=t(v[e].attr.format(p),p),v[e].model=t(v[e].attr.format(M),M)):v[e].attr=v[e].view=v[e].model=null},V=function(e,n){var i,r,m,l,d,f;return"view"===e?(l=p,d=M,f=o):(l=M,d=p,f=a),i=t(n,l,f),r=i.isValid(),m=u.$isEmpty(n),c=m?t(null):i.clone(),m||r?(u.$setValidity("date",!0),s.min&&(!m&&r&&v.min.attr&&i.isBefore(v.min[e])?u.$setValidity("min",!1):u.$setValidity("min",!0)),s.max&&(!m&&r&&v.max.attr&&i.isAfter(v.max[e])?u.$setValidity("max",!1):u.$setValidity("max",!0)),u.$error.min||u.$error.max?void 0:m?n:i.format(d)):(u.$setValidity("date",!1),s.min&&u.$setValidity("min",!0),void(s.max&&u.$setValidity("max",!0)))};u.$parsers.push(i.a.bind(void 0,V,"view")),u.$formatters.push(i.a.bind(void 0,V,"model")),!s.format||s.viewFormat&&s.modelFormat||(p=m.$eval(s.format)||p,M=m.$eval(s.format)||M,m.$watch(s.format,function(t){p=t,M=t,h(t),k("min"),k("max"),w()})),s.viewFormat&&(p=m.$eval(s.viewFormat)||p,m.$watch(s.viewFormat,function(e){e=e||t.$defaultViewFormat,e!==p&&(p=e,h(e),k("min"),k("max"),x())})),s.modelFormat&&(M=m.$eval(s.modelFormat)||M,m.$watch(s.modelFormat,function(e){e=e||t.$defaultModelFormat,e!==M&&(M=e,k("min"),k("max"),w())})),h(p);var F=function(e){var n;n=i.a.isArray(e)&&2===e.length?t(e[0],e[1]):e&&i.a.isString(e)?"today"===e?t():t(e,t.$defaultModelFormat):null,(!n^!v.min.attr||n&&v.min.attr&&n.format("X")!==v.min.attr.format("X"))&&(v.min.attr=n,k("min"),y())};F(m.$eval(s.min)),m.$watch(function(){return m.$eval(s.min)},F,!0);var b=function(e){var n;n=i.a.isArray(e)&&2===e.length?t(e[0],e[1]):e&&i.a.isString(e)?"today"===e?t():t(e,t.$defaultModelFormat):null,(!n^!v.max.attr||n&&v.max.attr&&n.format("X")!==v.max.attr.format("X"))&&(v.max.attr=n,k("max"),y())};b(m.$eval(s.max)),m.$watch(function(){return m.$eval(s.max)},b,!0),d="day",f=1,s.step&&m.$watch(s.step,function(t){if(t&&i.a.isString(t)){var e=t.match(/(\d+)\s(\w+)/);e?(d=e[2],f=parseInt(e[1],10)):(d="day",f=1)}});var g=function(e,o){if(!e.type&&o&&o.type&&(i.a.extend(e,o),$=!0),!l.attr("readonly")&&$&&("keydown"!==e.type||/38|40/.test(e.which))){e.preventDefault();var a,s,M,h,y,w=u.$isEmpty(u.$viewValue),x=w?t():t(c.format(p),p,!0);x.isValid()&&("keydown"===e.type?s=/38/.test(e.which):(a=e.originalEvent?e.originalEvent.wheelDelta:e.wheelDelta,s=a/120>0),M=e.shiftKey?n[r()(n,d.replace(/s$/,""))+1]||d:d,w&&v.min.attr?h=v.min.view.clone():s?w&&!v.min.attr?h=x.max(v.max.attr?v.max.view:void 0):v.min.attr&&x.isBefore(v.min.view)?h=v.min.view.clone():v.max.attr&&!x.isAfter(v.max.view)?h=x.add(M,f).max(v.max.view):v.max.attr||(h=x.add(M,f)):w&&!v.max.attr?h=x.min(v.min.attr?v.min.view:void 0):v.max.attr&&x.isAfter(v.max.view)?h=v.max.view.clone():v.min.attr&&!x.isBefore(v.min.view)?h=x.subtract(M,f).min(v.min.view):v.min.attr||(h=x.subtract(M,f)),y=(h||x).format(p),m.$apply(function(){u.$setViewValue(y),u.$render()}))}};l.on("mousewheel keydown",g),l.on("focus",function(t){$=!0}),l.on("blur",function(t){$=!1})}}}}}]},function(t,e,n){"use strict";var o=n(0),i=n.n(o);e.a=["$moment","$log",function(t,e){var n=t().startOf("week").format("d"),o=function(e){return t.$$pickerTemplates[e||"default"]};return{restrict:"A",templateUrl:function(t,n){var i=o(n.template);return i?i.url:void e.error("Error: [momentDatepicker] Picker template '"+n.template+"' is undefined. Templates must be defined with '$momentProvider.definePickerTemplate'.")},scope:{dateModel:"=momentPicker",format:"=?",modelFormat:"=?",min:"=?",max:"=?",ngShow:"=?"},controller:["$scope","$element","$attrs","$parse","$animate","$moment",function(t,e,a,r,m,l){function s(){t.today=l(),t.lastMonthMoments=[],t.thisMonthMoments=[],t.nextMonthMoments=[],t.monthsThisYearMoments=[],c.setDisplayMoment(l()),u(),t.weekMoments=[];for(var e=7;e--;)t.weekMoments.unshift(l().startOf("week").add(e,"day"))}function u(){var e=c.displayMoment.clone().startOf("month"),o=e.clone(),i=c.displayMoment.clone().endOf("month"),a=c.displayMoment.format("M"),r=c.displayMoment.format("YYYY");if(!t.thisMonthMoments.length||!o.isSame(t.thisMonthMoments[0])){for(t.today=l(),t.lastMonthMoments=[],t.thisMonthMoments=[],t.nextMonthMoments=[],t.monthsThisYearMoments=[];e.format("d")!==n;)t.lastMonthMoments.unshift(e.subtract(1,"day").clone());for(;o.format("M")===a;)t.thisMonthMoments.push(o.clone()),o.add(1,"day");for(;t.lastMonthMoments.length+t.thisMonthMoments.length+t.nextMonthMoments.length<42;)t.nextMonthMoments.push(i.add(1,"day").clone());for(;t.monthsThisYearMoments.length<12;)t.monthsThisYearMoments.push(l({year:r,month:t.monthsThisYearMoments.length}))}}var c=this;c.template=o(a.template),c.format=l.$defaultModelFormat,c.pickedMoment=Number.NaN,c.maxMoment=Number.NaN,c.minMoment=Number.NaN,c.visible=!0,c.hidden=!1,c.setVisibility=function(t){c.hidden=!t,c.visible=!!t,m[t?"removeClass":"addClass"](e,"ng-hide")},c.setPickedMoment=function(e,n,o,i){var a=l.apply(null,arguments),r=e&&a.isValid();return r?void(c.minMoment&&a.isBefore(c.minMoment,c.template.unit)||c.maxMoment&&a.isAfter(c.maxMoment,c.template.unit)||(c.minMoment&&(a=a.min(c.minMoment)),c.maxMoment&&(a=a.max(c.maxMoment)),a.isSame(c.pickedMoment)||(c.pickedMoment=a.clone(),t.pickedMoment=a.clone(),t.dateModel=a.format(c.format),c.setDisplayMoment(a)))):(c.pickedMoment=null,void(t.pickedMoment=null))},c.setDisplayMoment=function(e,n,o,i){var a=l.apply(null,arguments),r=e&&a.isValid(),m=c.pickedMoment?c.pickedMoment:l();c.displayMoment=r?a.clone():m.clone(),t.displayMoment=r?a.clone():m.clone(),u()},c.setMinMoment=function(t,e,n,o){var i=l.apply(null,arguments),a=t&&i.isValid();c.minMoment=a?i.clone():null},c.setMaxMoment=function(t,e,n,o){var i=l.apply(null,arguments),a=t&&i.isValid();c.maxMoment=a?i.clone():null},c.setFormat=function(e){i.a.equals(c.format,e)||(c.format=e||l.$defaultModelFormat,c.setPickedMoment(t.dateModel,c.format,l.$strictModel))},t.$watch("dateModel",function(t){c.setPickedMoment(t,c.format,l.$strictModel)}),a.format&&!a.modelFormat?(c.format=t.format||l.$defaultModelFormat,t.$watch("format",c.setFormat)):a.modelFormat&&(c.format=t.modelFormat||l.$defaultModelFormat,t.$watch("modelFormat",c.setFormat)),a.min&&t.$watch("min",function(t){var e=i.a.isArray(t);c.setMinMoment.apply(null,e?t:[t])},!0),a.max&&t.$watch("max",function(t){var e=i.a.isArray(t);c.setMaxMoment.apply(null,e?t:[t])},!0),t.setPickerVisibility=c.setVisibility,t.setDisplayMoment=c.setDisplayMoment,t.setPickedMoment=c.setPickedMoment,s()}],require:"momentPicker",link:function(t,e,n,o){t.getClasses=function(e,n){var a=/6|7/.test(e.isoWeekday()),r=!a,m={weekend:a,weekday:r};return m[e.format("MMM ddd").toLowerCase()]=!0,n?(i.a.forEach(n.split(" "),function(n){var i=n.split("-")[0],a=n.split("-")[1]||o.template.unit;t.pickedMoment&&"picked"===i?m[n]=e.isSame(t.pickedMoment,o.template.unit):"current"===i?m[n+" current"]=e.isSame(t.today,a):"invalid"===i&&(o.minMoment||o.maxMoment)&&(o.minMoment&&e.isBefore(o.minMoment,a)?m[n+" invalid"]=!0:o.maxMoment&&e.isAfter(o.maxMoment,a)&&(m[n+" invalid"]=!0))}),m):m}}}}]},function(t,e,n){"use strict";var o=n(0),i=n.n(o),a=n(7);e.a=["$moment","$compile",function(t,e){var o='style="position:absolute" class="input-picker"',r="format modelFormat min max".split(" "),m=function(t){return t.replace(/[a-z][A-Z]/g,function(t){return t[0]+"-"+t[1]}).toLowerCase()};return{restrict:"A",require:["?ngModel"],link:function(t,l,s,u){function c(){M(),f=d.isolateScope(),p=d.controller("momentPicker"),p.setVisibility(!1),f.showClose=!0}if(u&&"moment"===s.type){var d,f,p,M,$=[o];s.picker&&$.push("template="+s.picker),i.a.forEach(r,function(t){s[t]&&$.push(m(t)+'="'+s[t]+'"')}),d=e('<div moment-picker="'+s.ngModel+'" '+$.join(" ")+"></div>")(t),M=t.$watch(function(){d.controller("momentPicker")&&c()}),i.a.element(document.body).append(d),d.on("mousedown",function(t){t.preventDefault()}),l.on("focus click",function(t){var e=n.i(a.a)(l[0]);d.css({left:e.left+"px",top:e.bottom+"px"}),p.setVisibility(!0)}),l.on("blur keydown",function(t){"keydown"===t.type&&27!==t.which||p.setVisibility(!1)}),t.$on("$destroy",function(){d.off().remove()})}}}}]},function(t,e,n){"use strict";var o=n(0),i=n.n(o);e.a=["$moment",function(t){return function(e,n){var o,a,r,m=t.$defaultViewFormat;return i.a.isDefined(e)?(i.a.isString(n)?m=n:i.a.isArray(n)&&(r=n[0],m=n[1]||m,a=n[2]),o=t(e,r,a),o.isValid()?o.format(m):!i.a.isDefined(r)&&(o=t(e,t.$defaultModelFormat,t.strictModel),o.isValid())?o.format(m):e):e}}]},function(t,e,n){"use strict";function o(){function t(t){return t=t||"",t.match(/l/i)?m()().lang()._longDateFormat[t]||t:t}var e={$$pickerTemplates:{},$strictView:!0,$strictModel:!0,$defaultViewFormat:"L",$defaultModelFormat:m.a.defaultFormat,$parseFormat:t};this.defaultViewFormat=function(t){return a.a.isString(t)&&(e.$defaultViewFormat=t),this},this.defaultModelFormat=function(t){return a.a.isString(t)&&(e.$defaultModelFormat=t),this},this.strictView=function(t){return"boolean"==typeof t&&(e.$strictView=t),this},this.strictModel=function(t){return"boolean"==typeof t&&(e.$strictModel=t),this},this.definePickerTemplate=function(t){return a.a.isObject(t)&&t.name&&t.url&&(e.$$pickerTemplates[t.name]={url:t.url,unit:t.unit||"days"}),this},this.$get=function(){if(a.a.isDefined(m.a.$strictView))return m.a;try{Object.defineProperty(m.a,"$strictView",{value:e.$strictView}),Object.defineProperty(m.a,"$strictModel",{value:e.$strictModel}),Object.defineProperty(m.a,"$defaultViewFormat",{value:e.$defaultViewFormat}),Object.defineProperty(m.a,"$defaultModelFormat",{value:e.$defaultModelFormat}),Object.defineProperty(m.a,"$parseFormat",{value:e.$parseFormat}),Object.defineProperty(m.a,"$$pickerTemplates",{value:a.a.copy(e.$$pickerTemplates),writable:!0})}catch(t){a.a.extend(m.a,e)}return m.a}}var i=n(0),a=n.n(i),r=n(8),m=n.n(r);e.a=o},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var o=0;o<t.length;++o)if(t[o]===e)return o;return-1}},function(t,e,n){"use strict";function o(t){if(t){var e,n,o,i,a,r,m,l,s,u,c,d=document,f=window,p=d.body,M=d.documentElement,$=d.createElement("div");return $.style.paddingLeft=$.style.width="1px",p.appendChild($),e=2==$.offsetWidth,p.removeChild($),$=t.getBoundingClientRect(),n=M.clientTop||p.clientTop||0,o=M.clientLeft||p.clientLeft||0,i=f.pageYOffset||e&&M.scrollTop||p.scrollTop,a=f.pageXOffset||e&&M.scrollLeft||p.scrollLeft,u=i-n,c=a-o,r=$.top+u,s=$.left+c,l=$.bottom+u,m=$.right+c,{top:r,left:s,bottom:l,right:m}}}n.d(e,"a",function(){return o})},function(t,n){t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n.n(o),a=n(5),r=n(4),m=n(1),l=n(2),s=n(3);e.default=i.a.module("$moment",[]).provider("$moment",a.a).filter("momentFormat",r.a).directive("input",m.a).directive("inputPicker",l.a).directive("momentPicker",s.a).name}])});
//# sourceMappingURL=angular-moment.min.js.map